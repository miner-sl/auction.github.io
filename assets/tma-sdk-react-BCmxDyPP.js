import{n as e}from"./lottie-vendor-BGqgsdPb.js";var t;function n(e,n){t?t.set(e,n):n()}function r(e){if(t)return e();t=new Map;try{e()}finally{t.forEach(e=>e()),t=void 0}}function i(e,t){t||={};let r=t.equals||Object.is,i=[],a=e,s=e=>{if(!r(a,e)){let t=a;a=e,n(u,()=>{[...i].forEach(([n,r])=>{n(e,t),r&&l(n,!0)})})}};function c(e){let t=typeof e==`object`?e:{once:e};return{once:t.once||!1,signal:t.signal||!1}}let l=(e,t)=>{let n=c(t),r=i.findIndex(([t,r])=>t===e&&r.once===n.once&&r.signal===n.signal);r>=0&&i.splice(r,1)},u=Object.assign(function(){return o(u),a},{destroy(){i=[]},set:s,reset(){s(e)},sub(e,t){return i.push([e,c(t)]),()=>l(e,t)},unsub:l,unsubAll(){i=i.filter(e=>e[1].signal)}});return u}var a=[];function o(e){a.length&&a[a.length-1].add(e)}function s(e,t){let n=new Set,r;function o(){return r||=i(c(),t)}function s(){o().set(c())}function c(){n.forEach(e=>{e.unsub(s,{signal:!0})});let t=new Set,r;a.push(t);try{r=e()}finally{a.pop()}return t.forEach(e=>{e.sub(s,{signal:!0})}),n=t,r}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...e){return o().sub(...e)},unsub(...e){o().unsub(...e)},unsubAll(...e){o().unsubAll(...e)}})}var c;function l(e){return{lang:e?.lang??c?.lang,message:e?.message,abortEarly:e?.abortEarly??c?.abortEarly,abortPipeEarly:e?.abortPipeEarly??c?.abortPipeEarly}}var u;function d(e){return u?.get(e)}var f;function p(e){return f?.get(e)}var m;function h(e,t){return m?.get(e)?.get(t)}function g(e){let t=typeof e;return t===`string`?`"${e}"`:t===`number`||t===`bigint`||t===`boolean`?`${e}`:t===`object`||t===`function`?(e&&Object.getPrototypeOf(e)?.constructor?.name)??`null`:t}function _(e,t,n,r,i){let a=i&&`input`in i?i.input:n.value,o=i?.expected??e.expects??null,s=i?.received??g(a),c={kind:e.kind,type:e.type,input:a,expected:o,received:s,message:`Invalid ${t}: ${o?`Expected ${o} but r`:`R`}eceived ${s}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind===`schema`,u=i?.message??e.message??h(e.reference,c.lang)??(l?p(c.lang):null)??r.message??d(c.lang);u!==void 0&&(c.message=typeof u==`function`?u(c):u),l&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function v(e){return{version:1,vendor:`valibot`,validate(t){return e[`~run`]({value:t},l())}}}function y(e,t){return Object.hasOwn(e,t)&&t!==`__proto__`&&t!==`prototype`&&t!==`constructor`}function ee(e,t){let n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??`never`}var te=class extends Error{constructor(e){super(e[0].message),this.name=`ValiError`,this.issues=e}};function b(e,t){return{kind:`validation`,type:`check`,reference:b,async:!1,expects:null,requirement:e,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&_(this,`input`,e,t),e}}}function ne(e){return{kind:`validation`,type:`integer`,reference:ne,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&_(this,`integer`,e,t),e}}}function x(e){return{kind:`transformation`,type:`transform`,reference:x,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function re(e,t,n){return typeof e.fallback==`function`?e.fallback(t,n):e.fallback}function S(e,t,n){return typeof e.default==`function`?e.default(t,n):e.default}function ie(e,t){return!e[`~run`]({value:t},{abortEarly:!0}).issues}function C(e){return{kind:`schema`,type:`boolean`,reference:C,expects:`boolean`,async:!1,message:e,get"~standard"(){return v(this)},"~run"(e,t){return typeof e.value==`boolean`?e.typed=!0:_(this,`type`,e,t),e}}}function ae(e){return{kind:`schema`,type:`date`,reference:ae,expects:`Date`,async:!1,message:e,get"~standard"(){return v(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?_(this,`type`,e,t,{received:`"Invalid Date"`}):e.typed=!0:_(this,`type`,e,t),e}}}function oe(e){return{kind:`schema`,type:`function`,reference:oe,expects:`Function`,async:!1,message:e,get"~standard"(){return v(this)},"~run"(e,t){return typeof e.value==`function`?e.typed=!0:_(this,`type`,e,t),e}}}function w(e,t){return{kind:`schema`,type:`instance`,reference:w,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return v(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:_(this,`type`,e,t),e}}}function T(e,t){return{kind:`schema`,type:`loose_object`,reference:T,expects:`Object`,async:!1,entries:e,message:t,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n&&typeof n==`object`){for(let r in e.typed=!0,e.value={},this.entries){let i=this.entries[r];if(r in n||(i.type===`exact_optional`||i.type===`optional`||i.type===`nullish`)&&i.default!==void 0){let a=r in n?n[r]:S(i),o=i[`~run`]({value:a},t);if(o.issues){let i={type:`object`,origin:`value`,input:n,key:r,value:a};for(let t of o.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||=o.issues,t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[r]=o.value}else if(i.fallback!==void 0)e.value[r]=re(i);else if(i.type!==`exact_optional`&&i.type!==`optional`&&i.type!==`nullish`&&(_(this,`key`,e,t,{input:void 0,expected:`"${r}"`,path:[{type:`object`,origin:`key`,input:n,key:r,value:n[r]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in n)y(n,t)&&!(t in this.entries)&&(e.value[t]=n[t])}else _(this,`type`,e,t);return e}}}function E(e,t){return{kind:`schema`,type:`nullish`,reference:E,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return v(this)},"~run"(e,t){return(e.value===null||e.value===void 0)&&(this.default!==void 0&&(e.value=S(this,e,t)),e.value===null||e.value===void 0)?(e.typed=!0,e):this.wrapped[`~run`](e,t)}}}function D(e){return{kind:`schema`,type:`number`,reference:D,expects:`number`,async:!1,message:e,get"~standard"(){return v(this)},"~run"(e,t){return typeof e.value==`number`&&!isNaN(e.value)?e.typed=!0:_(this,`type`,e,t),e}}}function O(e,t){return{kind:`schema`,type:`optional`,reference:O,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return v(this)},"~run"(e,t){return e.value===void 0&&(this.default!==void 0&&(e.value=S(this,e,t)),e.value===void 0)?(e.typed=!0,e):this.wrapped[`~run`](e,t)}}}function se(e,t,n){return{kind:`schema`,type:`record`,reference:se,expects:`Object`,async:!1,key:e,value:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n&&typeof n==`object`){for(let r in e.typed=!0,e.value={},n)if(y(n,r)){let i=n[r],a=this.key[`~run`]({value:r},t);if(a.issues){let o={type:`object`,origin:`key`,input:n,key:r,value:i};for(let t of a.issues)t.path=[o],e.issues?.push(t);if(e.issues||=a.issues,t.abortEarly){e.typed=!1;break}}let o=this.value[`~run`]({value:i},t);if(o.issues){let a={type:`object`,origin:`value`,input:n,key:r,value:i};for(let t of o.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||=o.issues,t.abortEarly){e.typed=!1;break}}(!a.typed||!o.typed)&&(e.typed=!1),a.typed&&(e.value[a.value]=o.value)}}else _(this,`type`,e,t);return e}}}function k(e){return{kind:`schema`,type:`string`,reference:k,expects:`string`,async:!1,message:e,get"~standard"(){return v(this)},"~run"(e,t){return typeof e.value==`string`?e.typed=!0:_(this,`type`,e,t),e}}}function ce(e){let t;if(e)for(let n of e)t?t.push(...n.issues):t=n.issues;return t}function le(e,t){return{kind:`schema`,type:`union`,reference:le,expects:ee(e.map(e=>e.expects),`|`),async:!1,options:e,message:t,get"~standard"(){return v(this)},"~run"(e,t){let n,r,i;for(let a of this.options){let o=a[`~run`]({value:e.value},t);if(o.typed)if(o.issues)r?r.push(o):r=[o];else{n=o;break}else i?i.push(o):i=[o]}if(n)return n;if(r){if(r.length===1)return r[0];_(this,`type`,e,t,{issues:ce(r)}),e.typed=!0}else if(i?.length===1)return i[0];else _(this,`type`,e,t,{issues:ce(i)});return e}}}function ue(){return{kind:`schema`,type:`unknown`,reference:ue,expects:`unknown`,async:!1,get"~standard"(){return v(this)},"~run"(e){return e.typed=!0,e}}}function de(e,t,n){let r=e[`~run`]({value:t},l(n));if(r.issues)throw new te(r.issues);return r.value}function A(...e){return{...e[0],pipe:e,get"~standard"(){return v(this)},"~run"(t,n){for(let r of e)if(r.kind!==`metadata`){if(t.issues&&(r.kind===`schema`||r.kind===`transformation`)){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r[`~run`](t,n))}return t}}}var fe=Object.defineProperty,pe=(e,t,n)=>t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,me=(e,t,n)=>pe(e,typeof t==`symbol`?t:t+``,n),he=Object.defineProperty,ge=(e,t,n)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_e=(e,t,n)=>ge(e,typeof t==`symbol`?t:t+``,n);function ve(e){return t=>t instanceof e}function ye(e,t){let n=class extends Error{constructor(...n){let r=typeof t==`function`?t(...n):typeof t==`string`?[t]:t||[];super(...r),this.name=e}};_e(n,`is`,ve(n));let r=n;return Object.defineProperty(r,`name`,{value:e}),r}function be(e,t,n){let r=class extends ye(e,n){constructor(...e){super(...e),_e(this,`data`),this.data=t(...e)}};_e(r,`is`,ve(r));let i=r;return Object.defineProperty(i,`name`,{value:e}),i}var xe=class extends ye(`CancelledError`,`Promise was canceled`){},Se=class extends be(`TimeoutError`,e=>({timeout:e}),(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]){},Ce=Symbol(`resolved`);function we(e){return{tag:Ce,value:e}}function Te(e,t){return e.reject=t.reject,e.resolve=t.resolve,e}var Ee=class e extends Promise{constructor(e,t){let n,r,i,a;typeof e==`function`?(i=e,a=t||{}):a=e||{};let o,s,c=()=>!!s,l=()=>!!o,u={},d=[],f=()=>{d.forEach(e=>e()),d.splice(0,d.length),u={}},p=new AbortController,m=()=>l()||c();super((e,t)=>{let{abortOnResolve:h=!0,abortOnReject:g=!0}=a;r=t=>{var n,r;m()||(e(t),o=[t],(n=u.resolved)==null||n.forEach(e=>e(t)),(r=u.finalized)==null||r.forEach(e=>e({kind:`resolved`,result:t})),f(),h&&p.abort(we(t)))},n=e=>{var n,r;m()||(t(e),s=[e],(n=u.rejected)==null||n.forEach(t=>t(e)),(r=u.finalized)==null||r.forEach(t=>t({kind:`rejected`,reason:e})),f(),g&&p.abort(e))};let{abortSignal:_}=a;if(_){if(_.aborted)return n(_.reason);let e=()=>{n(_.reason)};_.addEventListener(`abort`,e,!0),d.push(()=>{_.removeEventListener(`abort`,e,!0)})}let{timeout:v}=a;if(v){let e=setTimeout(()=>{n(new Se(v))},v);d.push(()=>{clearTimeout(e)})}try{let e=()=>{},t=i&&i(r,n,{abortSignal:p.signal,get isRejected(){return c()},get isResolved(){return l()},on(t,n){return o||s?(t===`finalized`?n(o?{kind:`resolved`,result:o[0]}:{kind:`rejected`,reason:s[0]}):t===`resolved`&&o?n(o[0]):t===`rejected`&&s&&n(s[0]),e):(u[t]||(u[t]=[]),u[t].push(n),()=>{let e=u[t]||[],r=e.indexOf(n);r>=0&&e.splice(r,1)})},get result(){return o?.[0]},get rejectReason(){return s?.[0]},throwIfRejected(){if(s)throw s[0]}});t instanceof Promise&&t.catch(n)}catch(e){n(e)}}),me(this,`reject`),me(this,`resolve`),this.reject=n,this.resolve=r}static fn(t,n){return new e(async(e,n,r)=>{try{e(await t(r))}catch(e){n(e)}},n)}static resolve(e){return this.fn(()=>e)}static reject(t){return new e((e,n)=>{n(t)})}cancel(){this.reject(new xe)}catch(e){return this.then(void 0,e)}finally(e){return Te(super.finally(e),this)}then(e,t){return Te(super.then(e,t),this)}},De=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};function Oe(e){return e}function j(e,t,n,r,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(a(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return s(o(a(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(s(o(a(i(r(n(t(e.apply(this,arguments)))))))))}}}function M(e,t,n,r,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return a(i(r(n(t(e)))));case 7:return o(a(i(r(n(t(e))))));case 8:return s(o(a(i(r(n(t(e)))))));case 9:return c(s(o(a(i(r(n(t(e))))))));default:for(var l=arguments[0],u=1;u<arguments.length;u++)l=arguments[u](l);return l}}var ke=function(e,t){var n=typeof e==`number`?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return n(arguments)?t.apply(this,e):function(n){return t.apply(void 0,De([n],e,!1))}}},Ae={_tag:`None`},je=function(e){return{_tag:`Some`,value:e}},Me=function(e){return e._tag===`Left`},Ne=function(e){return{_tag:`Left`,left:e}},Pe=function(e){return{_tag:`Right`,right:e}},Fe={};function Ie(e,t){return function(n){return function(r){return e.ap(e.map(r,function(e){return function(n){return t.ap(e,n)}}),n)}}}function Le(e,t){return function(n){return function(r){return e.map(r,function(e){return t.map(e,n)})}}}function Re(e){return function(t,n){return e.map(t,function(){return n})}}function ze(e){var t=Re(e);return function(e){return t(e,void 0)}}function Be(e){return function(t,n){return e.chain(t,function(t){return e.map(n(t),function(){return t})})}}function Ve(e){return function(t,n){return function(r){return e.chain(r,function(r){return e.map(n(r),function(e){var n;return Object.assign({},r,(n={},n[t]=e,n))})})}}}function He(e){return function(t){return j(t,e.fromEither)}}function Ue(e,t){var n=He(e),r=Be(t);return function(e,t){return r(e,n(t))}}var N=Ae,P=je,We=function(e){return e._tag===`Left`?N:P(e.right)},Ge=function(e,t){return M(e,Je(t))},Ke=function(e,t){return M(e,Xe(t))},qe=`Option`,Je=function(e){return function(t){return $e(t)?N:P(e(t.value))}};ze({URI:qe,map:Ge});var Ye=P,Xe=function(e){return function(t){return $e(t)||$e(e)?N:P(t.value(e.value))}},Ze={URI:qe,map:Ge,ap:Ke,chain:ke(2,function(e,t){return $e(e)?N:t(e.value)})},Qe={URI:qe,fromEither:We},$e=function(e){return e._tag===`None`},et=function(e,t){return function(n){return $e(n)?e():t(n.value)}};Ue(Qe,Ze);var tt=Ye(Fe),nt=Ve(Ze),F=Ne,I=Pe,rt=ke(2,function(e,t){return R(e)?e:t(e.right)}),it=function(e,t){return M(e,L(t))},at=function(e,t){return M(e,lt(t))},ot=`Either`,L=function(e){return function(t){return R(t)?t:I(e(t.right))}},st={URI:ot,map:it};ze(st);var ct=I,lt=function(e){return function(t){return R(t)?t:R(e)?e:I(t.right(e.right))}},ut={URI:ot,map:it,ap:at},dt={URI:ot,map:it,ap:at,chain:rt},ft=function(e,t){return function(n){return R(n)?F(e(n.left)):I(t(n.right))}},pt={URI:ot,fromEither:Oe},R=Me,mt=function(e,t){return function(n){return R(n)?e(n.left):t(n.right)}},ht=mt,z=mt,gt=z;pt.fromEither;var _t=function(e,t){try{return I(e())}catch(e){return F(t(e))}},vt=ct(Fe),yt=Ve(dt),bt=rt;function xt(e){return j(I,e.of)}function St(e){return j(F,e.of)}function Ct(e){return function(t){return e.map(t,I)}}function wt(e){return Le(e,st)}function Tt(e){return Ie(e,ut)}function Et(e){return function(t,n){return e.chain(t,function(t){return R(t)?e.of(t):n(t.right)})}}function Dt(e){return function(t,n,r){return e.map(t,ft(n,r))}}function Ot(e){return function(t,n){return function(r){return e.map(r,z(t,n))}}}function kt(e){return function(t){return function(n){return e.chain(n,function(n){return R(n)?t(n.left):e.of(n)})}}}function At(e){var t=kt(e);return function(n,r){return M(n,t(function(t){return e.map(r(t),function(e){return R(e)?e:F(t)})}))}}function jt(e,t){var n=Be(t);return function(t,r){return n(t,j(r,e.fromIO))}}function Mt(e,t){var n=Be(t);return function(t,r){return n(t,j(r,e.fromTask))}}var Nt=function(e){return function(){return Promise.resolve().then(e)}},Pt=function(e,t){return M(e,It(t))},Ft=function(e,t){return M(e,Lt(t))},It=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},Lt=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then(function(e){var t=e[0],n=e[1];return t(n)})}}},Rt=function(e){return function(){return Promise.resolve(e)}},zt=ke(2,function(e,t){return function(){return Promise.resolve().then(e).then(function(e){return t(e)()})}}),B=`Task`,Bt={URI:B,map:Pt};ze(Bt);var Vt={URI:B,of:Rt},Ht={URI:B,map:Pt,ap:Ft},Ut={URI:B,map:Pt,ap:Ft,chain:zt},Wt={URI:B,map:Pt,of:Rt,ap:Ft,chain:zt},Gt={URI:B,fromIO:Nt};Gt.fromIO,jt(Gt,Ut);var Kt=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},qt=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Jt=St(Vt),V=xt(Vt),Yt=Ct(Bt),Xt=j(Nt,Yt),Zt=Yt,Qt=Rt,$t=Ot(Bt),en=$t,tn=function(e,t){return function(){return Kt(void 0,void 0,void 0,function(){var n;return qt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e().then(Pe)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,Ne(t(n))];case 3:return[2]}})})}};At(Wt);var nn=function(e,t){return M(e,an(t))},rn=function(e,t){return M(e,sn(t))},an=wt(Bt),on=ke(3,Dt(Bt)),sn=Tt(Ht),cn=ke(2,Et(Wt)),ln=V,un=`TaskEither`;ze({URI:un,map:nn});var dn={URI:un,map:nn,ap:rn,chain:cn},fn={URI:un,fromEither:Qt},pn={URI:un,fromIO:Xt},mn={URI:un,fromIO:Xt,fromTask:Zt};Ue(fn,dn),jt(pn,dn),Mt(mn,dn),fn.fromEither,pn.fromIO;var hn=ln(Fe),gn=Ve(dn),_n=cn,vn=cn;function yn(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function bn(e){return e.replace(/_[a-z]/g,e=>e[1].toUpperCase())}function xn(e){return Object.entries(e).reduce((e,[t,n])=>(e[bn(t)]=n,e),{})}function Sn(e){let t=xn(e);for(let e in t){let n=t[e];n&&typeof n==`object`&&!(n instanceof Date)&&(t[e]=Array.isArray(n)?n.map(Sn):Sn(n))}return t}function Cn(e){return e.replace(/_([a-z])/g,(e,t)=>`-${t.toLowerCase()}`)}function wn(e){return`tapps/${e}`}function Tn(e,t){sessionStorage.setItem(wn(e),JSON.stringify(t))}function En(e){let t=sessionStorage.getItem(wn(e));try{return t?JSON.parse(t):void 0}catch{}}function Dn(...e){let t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(e=>{e()})}]}function On(e,t){t||={};let{textColor:n,bgColor:r,shouldLog:i}=t,a=i===void 0?!0:i,o=typeof a==`boolean`?()=>a:a,s=(t,i,...a)=>{if(i||o()){let i=`font-weight:bold;padding:0 5px;border-radius:100px`,[o,s,c]={log:[`#0089c3`,`white`,`INFO`],error:[`#ff0000F0`,`white`,`ERR`],warn:[`#D38E15`,`white`,`WARN`]}[t];console[t](`%c${c} ${Intl.DateTimeFormat(`en-GB`,{hour:`2-digit`,minute:`2-digit`,second:`2-digit`,fractionalSecondDigits:3,timeZone:`UTC`}).format(new Date)}%c %c${e}`,`${i};background-color:${o};color:${s}`,``,`${i};${n?`color:${n};`:``}${r?`background-color:${r}`:``}`,...a)}};return[[`log`,`forceLog`],[`warn`,`forceWarn`],[`error`,`forceError`]].reduce((e,[t,n])=>(e[t]=s.bind(void 0,t,!1),e[n]=s.bind(void 0,t,!0),e),{})}function kn(e){let t=e=>{throw e};return typeof e==`function`?Ee.resolve(M(e,$t(t,e=>e))()):M(e,z(t,e=>e))}function H(e){return Object.assign((...t)=>kn(e(...t)),e)}var An=Object.assign((e,t)=>M(tn(()=>new Ee((t,n,r)=>e(e=>t(I(e)),e=>t(F(e)),r),t),e=>e),vn(z(Jt,V))),{fn:(e,t)=>An((t,n,r)=>{let i=e(r);M(typeof i==`function`?i:Qt(i),en(n,t))()},t)}),jn=Object.defineProperty,Mn=(e,t,n)=>t in e?jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nn=(e,t,n)=>Mn(e,typeof t==`symbol`?t:t+``,n);function Pn(e){return t=>t instanceof e}function U(e,t){let n=class extends Error{constructor(...n){let r=typeof t==`function`?t(...n):typeof t==`string`?[t]:t||[];super(...r),this.name=e}};Nn(n,`is`,Pn(n));let r=n;return Object.defineProperty(r,`name`,{value:e}),r}function Fn(e,t,n){let r=class extends U(e,n){constructor(...e){super(...e),Nn(this,`data`),this.data=t(...e)}};Nn(r,`is`,Pn(r));let i=r;return Object.defineProperty(i,`name`,{value:e}),i}function In(e){let t=t=>{let n={};return new URLSearchParams(t).forEach((e,t)=>{let r=n[t];Array.isArray(r)?r.push(e):r===void 0?n[t]=e:n[t]=[r,e]}),de(e,n)};return A(le([k(),w(URLSearchParams)]),b(e=>{try{return t(e),!0}catch{return!1}},`The value doesn't match required schema`),x(t))}function Ln(e){return A(k(),b(e=>{try{return JSON.parse(e),!0}catch{return!1}},`Input is not a valid JSON value`),x(JSON.parse),e)}function W(e){return A(k(),Ln(e))}function Rn(e){return A(le([k(),w(URLSearchParams)]),In(e))}function zn(e){return t=>e.test(t)}var Bn=zn(/^#[\da-f]{3}$/i),Vn=zn(/^#[\da-f]{4}$/i),Hn=zn(/^#[\da-f]{6}$/i),Un=zn(/^#[\da-f]{8}$/i);function Wn(e){return[Hn,Un,Bn,Vn].some(t=>t(e))}function Gn(e){let t=`#`;for(let n=0;n<e.length-1;n+=1)t+=e[1+n].repeat(2);return t}function Kn(e){let t=e.replace(/\s/g,``).toLowerCase();if(/^#[\da-f]{3}$/i.test(t))return I(Gn(t.toLowerCase()+`f`));if(/^#[\da-f]{4}$/i.test(t))return I(Gn(t.toLowerCase()));if(/^#[\da-f]{6}$/i.test(t))return I(t.toLowerCase()+`ff`);if(/^#[\da-f]{8}$/i.test(t))return I(t.toLowerCase());let n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d{1,3})\)$/);return n?I(n.slice(1).reduce((e,t)=>e+parseInt(t,10).toString(16).padStart(2,`0`),`#`).padEnd(9,`f`)):F(Error(`Value "${e}" does not satisfy any of known RGB formats.`))}function qn(){return T({id:D(),photo_url:O(k()),type:k(),title:k(),username:O(k())})}function Jn(){return T({added_to_attachment_menu:O(C()),allows_write_to_pm:O(C()),first_name:k(),id:D(),is_bot:O(C()),is_premium:O(C()),last_name:O(k()),language_code:O(k()),photo_url:O(k()),username:O(k())})}function Yn(){return T({auth_date:A(k(),x(e=>new Date(Number(e)*1e3)),ae()),can_send_after:O(A(k(),x(Number),ne())),chat:O(W(qn())),chat_type:O(k()),chat_instance:O(k()),hash:k(),query_id:O(k()),receiver:O(W(Jn())),start_param:O(k()),signature:k(),user:O(W(Jn()))})}function Xn(){return Rn(Yn())}function Zn(){return se(k(),A(le([k(),D()]),x(e=>typeof e==`number`?`#${(e&16777215).toString(16).padStart(6,`0`)}`:e),b(Wn)))}function Qn(){let e=O(A(k(),x(e=>e===`1`)));return T({tgWebAppBotInline:e,tgWebAppData:O(Xn()),tgWebAppDefaultColors:O(W(Zn())),tgWebAppFullscreen:e,tgWebAppPlatform:k(),tgWebAppShowSettings:e,tgWebAppStartParam:O(k()),tgWebAppThemeParams:W(Zn()),tgWebAppVersion:k()})}function $n(){return Rn(Qn())}function er(){return T({eventType:k(),eventData:O(ue())})}function tr(e){return _t(()=>de($n(),e),e=>e)}var nr=H(tr);function rr(e,t){return t||=(e,t)=>JSON.stringify(t),new URLSearchParams(Object.entries(e).reduce((e,[n,r])=>(Array.isArray(r)?e.push(...r.map(e=>[n,String(e)])):r!=null&&e.push([n,r instanceof Date?(r.getTime()/1e3|0).toString():typeof r==`string`||typeof r==`number`?String(r):typeof r==`boolean`?r?`1`:`0`:t(n,r)]),e),[])).toString()}function ir(e){return rr(e)}function ar(e){return rr(e,(e,t)=>e===`tgWebAppData`?ir(t):JSON.stringify(t))}function or(e){return{all:e||=new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(e){e(n)}),(r=e.get(`*`))&&r.slice().map(function(e){e(t,n)})}}}function sr(e){return ie(T({TelegramWebviewProxy:T({postEvent:oe()})}),e)}function cr(){try{return window.self!==window.top}catch{return!0}}var lr=class extends Fn(`LaunchParamsRetrieveError`,e=>({errors:e}),e=>[[`Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?`,`ðŸ“– Refer to docs for more information:`,`https://docs.telegram-mini-apps.com/packages/tma-js-bridge/environment`,``,`Collected errors:`,...e.map(({source:e,error:t})=>`Source: ${e} / ${t instanceof Error?t.message:String(t)}`)].join(`
`)]){},ur=class extends U(`InvalidLaunchParamsError`,(e,t)=>[`Invalid value for launch params: ${e}`,{cause:t}]){},dr=class extends U(`UnknownEnvError`){},fr=`launchParams`;function pr(e){return e.replace(/^[^?#]*[?#]/,``).replace(/[?#]/g,`&`)}function mr(){return M(vr(),bt(tr))}var hr=H(mr);function gr(){return M(vr(),L(e=>{let t=new URLSearchParams(e).get(`tgWebAppData`);return t?P(t):N}))}function _r(){return M(gr(),gt(e=>{throw e},e=>e),et(()=>{},e=>e))}function vr(){let e=[];for(let[t,n]of[[()=>pr(window.location.href),`window.location.href`],[()=>{let e=performance.getEntriesByType(`navigation`)[0];return e&&pr(e.name)},`performance navigation entries`],[()=>En(fr),`local storage`]]){let r=t();if(!r){e.push({source:n,error:Error(`Source is empty`)});continue}let i=M(tr(r),ht(e=>e,()=>!0));if(typeof i!=`boolean`){e.push({source:n,error:i});continue}return Tn(fr,r),I(r)}return F(new lr(e))}function yr(e,t){let n=new Map,r=or(),i=(e,i,a=!1)=>{let o=n.get(e)||new Map;n.set(e,o);let s=o.get(i)||[];o.set(i,s);let c=s.findIndex(e=>e[1]===a);if(c>=0&&(r.off(e,s[c][0]),s.splice(c,1),!s.length&&(o.delete(i),!o.size))){let r=n.size;n.delete(e),r&&!n.size&&t()}};return{on(t,a,o){!n.size&&e();let s=()=>{i(t,a,o)},c=(...e)=>{o&&s(),t===`*`?a({name:e[0],payload:e[1]}):a(...e)};r.on(t,c);let l=n.get(t)||new Map;n.set(t,l);let u=l.get(a)||[];return l.set(a,u),u.push([c,o||!1]),s},off:i,emit:r.emit,clear(){let e=n.size;r.all.clear(),n.clear(),e&&t()}}}function br(e,t){window.dispatchEvent(new MessageEvent(`message`,{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}var xr=i(!1),Sr=i(`https://web.telegram.org`),Cr=e=>{G().log(`Event received:`,e)},wr=s(xr);function Tr(e){e!==xr()&&(xr.set(e),(e?K:Pr)(`*`,Cr))}var Er=s(Sr),Dr=i((...e)=>{window.parent.postMessage(...e)}),G=i(On(`Bridge`,{bgColor:`#9147ff`,textColor:`white`,shouldLog:wr}));function Or(e,t,n){let r=[n],i=e[t];typeof i==`function`&&r.push(i);let a=(...e)=>{r.forEach(t=>t(...e))},o=Object.assign((...e)=>{a(...e)},{unwrap(){let{length:n}=r;if(n===1){delete e[t];return}if(n===2){jr(e,t,r[1]);return}r.unshift(1),jr(e,t,a)}});Ar(e,t,()=>o,e=>r.push(e))}function kr(e,t){let n=e[t];Ar(e,t,()=>n,e=>{Object.entries(e).forEach(([e,t])=>{n[e]=t})})}function Ar(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:n,set:r})}function jr(e,t,n){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}var Mr={clipboard_text_received:T({req_id:k(),data:E(k())}),custom_method_invoked:T({req_id:k(),result:O(ue()),error:O(k())}),popup_closed:E(T({button_id:E(k(),()=>{})}),{}),viewport_changed:E(T({height:D(),width:E(D(),()=>window.innerWidth),is_state_stable:C(),is_expanded:C()}),()=>({height:window.innerHeight,is_state_stable:!0,is_expanded:!0})),theme_changed:T({theme_params:Zn()})};function Nr(e){if(e.source!==window.parent)return;let t;try{t=de(W(er()),e.data)}catch{return}let{eventType:n,eventData:r}=t,i=Mr[n],a;try{a=i?de(i,r):r}catch(e){return G().forceError([`An error occurred processing the "${n}" event from the Telegram application.`,`Please, file an issue here:`,`https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose`].join(`
`),t,e)}Fr(n,a)}var{on:K,off:Pr,emit:Fr,clear:Ir}=yr(()=>{let e=window;!e.TelegramGameProxy&&(e.TelegramGameProxy={}),Or(e.TelegramGameProxy,`receiveEvent`,br),kr(e,`TelegramGameProxy`),!e.Telegram&&(e.Telegram={}),!e.Telegram.WebView&&(e.Telegram.WebView={}),Or(e.Telegram.WebView,`receiveEvent`,br),kr(e.Telegram,`WebView`),Or(e,`TelegramGameProxy_receiveEvent`,br),window.addEventListener(`message`,Nr)},()=>{[[`TelegramGameProxy_receiveEvent`],[`TelegramGameProxy`,`receiveEvent`],[`Telegram`,`WebView`,`receiveEvent`]].forEach(e=>{let t=window,n=[void 0,t];for(let t of e)if(n=[n[1],n[1][t]],!n[1])return;let[r,i]=n;`unwrap`in i&&(i.unwrap(),r&&r!==t&&!Object.keys(r).length&&delete t[e[0]])}),window.removeEventListener(`message`,Nr)}),Lr=(...e)=>Dr()(...e);function Rr(e,t){G().log(`Posting event:`,t?{eventType:e,eventData:t}:{eventType:e});let n=window,r=JSON.stringify({eventType:e,eventData:t});return cr()?(Lr(r,Er()),I(void 0)):sr(n)?(n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t)),I(void 0)):ie(T({external:T({notify:oe()})}),n)?(n.external.notify(r),I(void 0)):F(new dr)}function zr(e,t,n={}){let{capture:r=()=>!0,postEvent:a=Rr}=n,o=i(),[s,c]=Dn();(Array.isArray(t)?t:[t]).forEach(e=>{s(K(e,n=>{let i=Array.isArray(t);r(i?{event:e,payload:n}:n)&&o.set([i?{event:e,payload:n}:n])}))});let l=e=>(c(),e);return M(async()=>a(e,n.params),vn(()=>An((e,t,n)=>{let r=o();if(r)return e(r[0]);let i=t=>{t&&e(t[0])};o.sub(i),n.on(`finalized`,()=>{o.unsub(i)})},n)),on(l,l))}function Br(e,t){let n=sr(window);if(!e)return n||M(vr(),z(()=>!1,()=>!0));if(n)return V(!0);let{timeout:r=100}=t||{};return M(zr(`web_app_request_theme`,`theme_changed`,{...t,timeout:r}),$t(e=>Se.is(e)||dr.is(e)?I(!1):F(e),()=>I(!0)))}function Vr({launchParams:e,onEvent:t,resetPostMessage:n}={}){if(e){let t=typeof e==`string`||e instanceof URLSearchParams?e.toString():ar({...e,tgWebAppData:void 0})+(e.tgWebAppData?`&tgWebAppData=${encodeURIComponent(e.tgWebAppData.toString())}`:``);try{nr(t)}catch(e){throw new ur(t,e)}Tn(`launchParams`,t)}if(cr()){if(!t)return;n&&Dr.reset();let e=Dr();Dr.set((...n)=>{let[r]=n,i=()=>{e(...n)};try{let e=de(W(er()),r);t({name:e.eventType,params:e.eventData},i)}catch{i()}});return}let r=window.TelegramWebviewProxy||{},i=r.postEvent||(()=>{});window.TelegramWebviewProxy={...r,postEvent(e,n){let r=()=>{i(e,n)};t?t({name:e,params:n?JSON.parse(n):void 0},r):r()}},G().log(`Environment was mocked by the mockTelegramEnv function`)}var Hr={"6.0":[`iframe_ready`,`iframe_will_reload`,`web_app_close`,`web_app_data_send`,`web_app_expand`,`web_app_open_link`,`web_app_ready`,`web_app_request_theme`,`web_app_request_viewport`,`web_app_setup_main_button`,`web_app_setup_closing_behavior`],6.1:[`web_app_open_tg_link`,`web_app_open_invoice`,`web_app_setup_back_button`,`web_app_set_background_color`,`web_app_set_header_color`,`web_app_trigger_haptic_feedback`],6.2:[`web_app_open_popup`],6.4:[`web_app_close_scan_qr_popup`,`web_app_open_scan_qr_popup`,`web_app_read_text_from_clipboard`,{method:`web_app_open_link`,param:`try_instant_view`}],6.7:[`web_app_switch_inline_query`],6.9:[`web_app_invoke_custom_method`,`web_app_request_write_access`,`web_app_request_phone`,{method:`web_app_set_header_color`,param:`color`}],"6.10":[`web_app_setup_settings_button`],7.2:[`web_app_biometry_get_info`,`web_app_biometry_open_settings`,`web_app_biometry_request_access`,`web_app_biometry_request_auth`,`web_app_biometry_update_token`],7.6:[{method:`web_app_open_link`,param:`try_browser`},{method:`web_app_close`,param:`return_back`}],7.7:[`web_app_setup_swipe_behavior`],7.8:[`web_app_share_to_story`],"7.10":[`web_app_setup_secondary_button`,`web_app_set_bottom_bar_color`,{method:`web_app_setup_main_button`,param:`has_shine_effect`}],"8.0":[`web_app_request_safe_area`,`web_app_request_content_safe_area`,`web_app_request_fullscreen`,`web_app_exit_fullscreen`,`web_app_set_emoji_status`,`web_app_add_to_home_screen`,`web_app_check_home_screen`,`web_app_request_emoji_status_access`,`web_app_check_location`,`web_app_open_location_settings`,`web_app_request_file_download`,`web_app_request_location`,`web_app_send_prepared_message`,`web_app_start_accelerometer`,`web_app_start_device_orientation`,`web_app_start_gyroscope`,`web_app_stop_accelerometer`,`web_app_stop_device_orientation`,`web_app_stop_gyroscope`,`web_app_toggle_orientation_lock`],"9.0":[`web_app_device_storage_clear`,`web_app_device_storage_get_key`,`web_app_device_storage_save_key`,`web_app_secure_storage_clear`,`web_app_secure_storage_get_key`,`web_app_secure_storage_restore_key`,`web_app_secure_storage_save_key`],9.1:[`web_app_hide_keyboard`]};function Ur(e,t){return Object.keys(Hr).find(n=>Hr[n].some(n=>t?typeof n==`object`&&n.method===e&&n.param===t:n===e))||null}function Wr(e){return e.split(`.`).map(Number)}function Gr(e,t){let n=Wr(e),r=Wr(t),i=Math.max(n.length,r.length);for(let e=0;e<i;e+=1){let t=n[e]||0,i=r[e]||0;if(t!==i)return t>i?1:-1}return 0}function Kr(e,t,n){let r=n?Ur(e,t):Ur(e);return r?Gr(r,n||t)<=0:!1}var qr=Object.defineProperty,Jr=(e,t,n)=>t in e?qr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q=(e,t,n)=>Jr(e,typeof t==`symbol`?t:t+``,n);function J(e){return typeof e==`function`?e():e}var Yr=class{constructor({onMounted:e,restoreState:t,initialState:n,onUnmounted:a,isPageReload:o}){q(this,`_isMounted`,i(!1)),q(this,`isMounted`,s(this._isMounted)),q(this,`mount`),q(this,`unmount`),this.mount=()=>{if(this.isMounted())return I(void 0);let i=J(o)?t():void 0;return M(i?I(i):typeof n==`function`?n():I(n),L(t=>{r(()=>{this._isMounted.set(!0),e?.(t)})}))},this.unmount=()=>{this._isMounted()&&r(()=>{this._isMounted.set(!1),a?.()})}}};function Xr(e){let t={};for(let n in e){let r=e[n];r!==void 0&&(t[n]=r)}return t}function Zr(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length===r.length?n.every(n=>Object.prototype.hasOwnProperty.call(t,n)&&e[n]===t[n]):!1}var Qr=class{constructor({initialState:e,onChange:t}){q(this,`_state`),q(this,`state`),q(this,`setState`,e=>{let t={...this.state(),...Xr(e)};Zr(t,this.state())||this._state.set(t)}),this._state=i(e,{equals:Zr}),this.state=s(this._state),this.state.sub(t)}getter(e){return s(()=>this._state()[e])}hasDiff(e){return!Zr({...this.state(),...Xr(e)},this.state())}};function $r(e,t){return s(()=>Kr(e,J(t)))}function Y(e){return Object.assign(H(e),{ifAvailable(...t){return M(e.ifAvailable(...t),et(()=>({ok:!1}),e=>({ok:!0,data:kn(e)})))}})}function ei(e){return[e]}var ti=class extends U(`CSSVarsBoundError`,`CSS variables are already bound`){},ni=class extends U(`FunctionNotAvailableError`,ei){},X=class extends U(`InvalidArgumentsError`,(e,t)=>[e,{cause:t}]){},ri=class extends U(`ConcurrentCallError`,ei){},ii=class extends U(`FullscreenFailedError`,ei){},ai=class extends U(`UnknownThemeParamsKeyError`,e=>[`Unknown theme params key passed: ${e}`]){};function oi(e,t){let n=s(()=>J(t.version)||`100`),r=s(()=>J(t.isTma)),{requires:i,returns:a}=t,o=i?typeof i==`object`?i:{every:[i]}:void 0,c=e=>{if(!t.supports)return!0;let r=t.supports[e];return Kr(r.method,r.param,n())},l=()=>{if(!o)return;let[e,t]=`every`in o?[`every`,o.every]:[`some`,o.some];for(let r=0;r<t.length;r++){let i=t[r],a=typeof i==`function`?i():Kr(i,n())?void 0:`it is unsupported in Mini Apps version ${n()}`;if(a&&(e===`every`||r===t.length-1))return a}},u=(...e)=>{for(let r in t.supports)if(t.supports[r].shouldCheck(...e)&&!c(r))return`option ${r} is not supported in Mini Apps version ${n()}`},d=s(()=>!l()),f=s(()=>n()!==`0.0`),p=s(()=>t.isMounted?t.isMounted():!0),m=s(()=>r()&&f()&&d()&&p()),h=e=>{let n=new ni(e);return[`task`,`promise`].includes(t.returns)?Jt(n):F(n)},g=(...t)=>a===`plain`?_t(()=>e(...t),e=>e):a===`promise`?tn(()=>e(...t),e=>e):e(...t);return Object.assign((...e)=>{var n;let i=`Unable to call function:`;if(!r())return h(`${i} it can't be called outside Mini Apps`);if(!f())return h(`${i} the SDK was not initialized. Use the SDK init() function`);let a=l();if(a)return h(`${i} ${a}`);let o=u(...e);return o?h(`${i} ${o}`):p()?g(...e):h(`${i} the component is ${(n=t.isMounting)!=null&&n.call(t)?`mounting. Wait for the mount completion`:`unmounted. Use the mount() method`}`)},e,{isAvailable:m,ifAvailable(...e){return m()?P(g(...e)):N}},o?{isSupported:d}:{},t.supports?{supports:c}:{})}function Z(e){return t=>oi(t,e)}var si=class{constructor({isTma:e,storage:t,onClick:n,offClick:r,initialState:i,isPageReload:a,postEvent:o,payload:s,method:c,version:l}){q(this,`isMounted`),q(this,`isSupported`),q(this,`state`),q(this,`stateSetters`),q(this,`stateBoolSetters`),q(this,`setStateFp`),q(this,`setState`),q(this,`onClickFp`),q(this,`onClick`),q(this,`offClickFp`),q(this,`offClick`),q(this,`mountFp`),q(this,`mount`),q(this,`unmount`);let u=new Qr({initialState:i,onChange(e){t.set(e)}}),d=new Yr({initialState:i,isPageReload:a,onMounted:u.setState,restoreState:t.get}),f={version:l,requires:c,isTma:e},p=Z({...f,returns:`plain`}),m=Z({...f,returns:`either`,isMounted:d.isMounted});this.isMounted=d.isMounted,this.isSupported=$r(c,l),this.state=u.state,this.setStateFp=m(e=>{let t={...this.state(),...Xr(e)};return u.hasDiff(t)?M(o(c,s(t)),L(()=>{u.setState(t)})):I(void 0)}),this.setState=Y(this.setStateFp),this.onClickFp=p(n),this.onClick=Y(this.onClickFp),this.offClickFp=p(r),this.offClick=Y(this.offClickFp),this.mountFp=p(()=>{let e=()=>{};return M(d.mount(),z(e,e))}),this.mount=Y(this.mountFp),this.unmount=d.unmount,this.stateSetters=e=>{let t=m(t=>this.setStateFp({[e]:t}));return[Y(t),t]},this.stateBoolSetters=e=>{let[,t]=this.stateSetters(e),n=m(()=>t(!1)),r=m(()=>t(!0));return[[Y(n),n],[Y(r),r]]}}stateGetter(e){return s(()=>this.state()[e])}},ci=class{constructor(e){q(this,`isVisible`),q(this,`isMounted`),q(this,`isSupported`),q(this,`hideFp`),q(this,`hide`),q(this,`showFp`),q(this,`show`),q(this,`onClickFp`),q(this,`onClick`),q(this,`offClickFp`),q(this,`offClick`),q(this,`mountFp`),q(this,`mount`),q(this,`unmount`);let t=new si({...e,method:`web_app_setup_back_button`,payload:e=>({is_visible:e.isVisible}),initialState:{isVisible:!1}});this.isVisible=t.stateGetter(`isVisible`),this.isMounted=t.isMounted,this.isSupported=t.isSupported,[[this.hide,this.hideFp],[this.show,this.showFp]]=t.stateBoolSetters(`isVisible`),this.onClick=t.onClick,this.onClickFp=t.onClickFp,this.offClick=t.offClick,this.offClickFp=t.offClickFp,this.mount=t.mount,this.mountFp=t.mountFp,this.unmount=t.unmount}};function Q(){return{isTma:s(()=>Br())}}function li(e){return t=>({...t,...J(e)})}function ui(e,t){return i(e,t)}var di=ui(Rr),fi=(...e)=>di()(...e),pi=(...e)=>kn(fi(...e)),$=li({postEvent:fi});function mi(e){return{get:()=>En(e),set(t){Tn(e,t)}}}function hi(){return performance.getEntriesByType(`navigation`)[0]}function gi(){let e=hi();return!!e&&e.type===`reload`}function _i(e){return li({storage:mi(e),isPageReload:gi})}var vi=ui(`0.0`),yi=li({version:vi});function bi(e,t){return{...M(Q(),$,yi,_i(e)),onClick(e,n){return K(t,e,n)},offClick(e,n){Pr(t,e,n)}}}var xi=new ci(bi(`backButton`,`back_button_pressed`)),Si=class{constructor({initialState:e,onMounted:t,restoreState:n,onUnmounted:a,isPageReload:o}){q(this,`_isMounted`,i(!1)),q(this,`isMounted`,s(this._isMounted)),q(this,`mount`),q(this,`unmount`),this.mount=i=>{if(this._isMounted())return V(void 0);let a=J(o)?n():void 0;return M(a?V(a):e(i),an(e=>{this._isMounted()||r(()=>{this._isMounted.set(!0),t?.(e)})}))},this.unmount=()=>{this._isMounted()&&r(()=>{this._isMounted.set(!1),a?.()})}}},Ci=li({request:(e,t,n)=>zr(e,t,{postEvent:fi,...n})}),wi=class{constructor({postEvent:e,isTma:t,version:n}){q(this,`isSupported`),q(this,`impactOccurredFp`),q(this,`impactOccurred`),q(this,`notificationOccurredFp`),q(this,`notificationOccurred`),q(this,`selectionChangedFp`),q(this,`selectionChanged`);let r=`web_app_trigger_haptic_feedback`,i=Z({requires:r,isTma:t,version:n,returns:`plain`});this.isSupported=$r(r,n),this.impactOccurredFp=i(t=>e(r,{type:`impact`,impact_style:t})),this.notificationOccurredFp=i(t=>e(r,{type:`notification`,notification_type:t})),this.selectionChangedFp=i(()=>e(r,{type:`selection_change`})),this.impactOccurred=Y(this.impactOccurredFp),this.notificationOccurred=Y(this.notificationOccurredFp),this.selectionChanged=Y(this.selectionChangedFp)}};function Ti(){return new wi(M(Q(),$,yi))}var Ei=Ti(),Di=class{constructor({retrieveInitData:e}){q(this,`_state`,i()),q(this,`_raw`,i()),q(this,`state`,s(this._state)),q(this,`authDate`,this.fromState(`auth_date`)),q(this,`canSendAfter`,this.fromState(`can_send_after`)),q(this,`canSendAfterDate`,s(()=>{let e=this.authDate(),t=this.canSendAfter();return t&&e?new Date(e.getTime()+t*1e3):void 0})),q(this,`chat`,this.fromState(`chat`)),q(this,`chatType`,this.fromState(`chat_type`)),q(this,`chatInstance`,this.fromState(`chat_instance`)),q(this,`hash`,this.fromState(`hash`)),q(this,`queryId`,this.fromState(`query_id`)),q(this,`raw`,s(this._raw)),q(this,`receiver`,this.fromState(`receiver`)),q(this,`signature`,this.fromState(`signature`)),q(this,`startParam`,this.fromState(`start_param`)),q(this,`user`,this.fromState(`user`)),q(this,`restoreFp`),q(this,`restore`),this.restoreFp=()=>M(e(),L(et(()=>{},({raw:e,obj:t})=>{this._state.set(t),this._raw.set(e)}))),this.restore=H(this.restoreFp)}fromState(e){return s(()=>{let t=this._state();return t?t[e]:void 0})}};function Oi(){return new Di({retrieveInitData(){return M(vt,yt(`obj`,()=>M(mr(),L(({tgWebAppData:e})=>e?P(e):N))),yt(`raw`,gr),L(({obj:e,raw:t})=>M(tt,nt(`obj`,()=>e),nt(`raw`,()=>t))))}})}var ki=Oi();function Ai({postEvent:e,...t}){return oi((t,n={})=>{if(typeof t==`string`)try{t=new URL(t)}catch(e){return F(new X(`"${t.toString()}" is invalid URL`,e))}return e(`web_app_open_link`,{url:t.toString(),try_browser:n.tryBrowser,try_instant_view:n.tryInstantView})},{...t,returns:`either`})}function ji(){return Ai(M(Q(),$))}var Mi=Y(ji());function Ni({postEvent:e,version:t,...n}){return oi(n=>{let r=n.toString();return r.match(/^https:\/\/t.me\/.+/)?Kr(`web_app_open_tg_link`,J(t))?(n=new URL(n),e(`web_app_open_tg_link`,{path_full:n.pathname+n.search})):(window.location.href=r,I(void 0)):F(new X(`"${r}" is invalid URL`))},{...n,returns:`either`})}function Pi(){return Ni(M(Q(),$,yi))}var Fi=Y(Pi());function Ii(e,t){document.documentElement.style.setProperty(e,t)}function Li(e){document.documentElement.style.removeProperty(e)}function Ri(e){return M(Kn(e),L(e=>Math.sqrt([.299,.587,.114].reduce((t,n,r)=>{let i=parseInt(e.slice(1+r*2,1+(r+1)*2),16);return t+i*i*n},0))<120))}var zi=H(Ri),Bi=class{constructor({initialState:e,onChange:t,offChange:n,isTma:r,storage:a,isPageReload:o}){q(this,`accentTextColor`),q(this,`bgColor`),q(this,`buttonColor`),q(this,`buttonTextColor`),q(this,`bottomBarBgColor`),q(this,`destructiveTextColor`),q(this,`headerBgColor`),q(this,`hintColor`),q(this,`linkColor`),q(this,`secondaryBgColor`),q(this,`sectionBgColor`),q(this,`sectionHeaderTextColor`),q(this,`sectionSeparatorColor`),q(this,`subtitleTextColor`),q(this,`textColor`),q(this,`_isCssVarsBound`,i(!1)),q(this,`isCssVarsBound`,s(this._isCssVarsBound)),q(this,`bindCssVarsFp`),q(this,`bindCssVars`),q(this,`state`),q(this,`isDark`,s(()=>{let e=this.bgColor();return!e||zi(e)})),q(this,`isMounted`),q(this,`mountFp`),q(this,`mount`),q(this,`unmount`);let c=new Qr({initialState:{},onChange:a.set}),l=e=>{c.setState(e.theme_params)},u=new Yr({initialState:()=>I(J(e)),isPageReload:o,onMounted(e){c.setState(e),t(l)},onUnmounted(){n(l)},restoreState:a.get}),d={isTma:r,returns:`either`},f=Z(d),p=Z({...d,isMounted:u.isMounted});this.accentTextColor=c.getter(`accent_text_color`),this.bgColor=c.getter(`bg_color`),this.buttonColor=c.getter(`button_color`),this.buttonTextColor=c.getter(`button_text_color`),this.bottomBarBgColor=c.getter(`bottom_bar_bg_color`),this.destructiveTextColor=c.getter(`destructive_text_color`),this.headerBgColor=c.getter(`header_bg_color`),this.hintColor=c.getter(`hint_color`),this.linkColor=c.getter(`link_color`),this.secondaryBgColor=c.getter(`secondary_bg_color`),this.sectionBgColor=c.getter(`section_bg_color`),this.sectionHeaderTextColor=c.getter(`section_header_text_color`),this.sectionSeparatorColor=c.getter(`section_separator_color`),this.subtitleTextColor=c.getter(`subtitle_text_color`),this.textColor=c.getter(`text_color`),this.state=c.state,this.isMounted=u.isMounted,this.bindCssVarsFp=p(e=>{if(this._isCssVarsBound())return F(new ti);e||=e=>`--tg-theme-${Cn(e)}`;let t=e=>{Object.entries(c.state()).forEach(([t,n])=>{n&&e(t,n)})},n=()=>{t((t,n)=>{Ii(e(t),n)})};return n(),c.state.sub(n),this._isCssVarsBound.set(!0),I(()=>{t(Li),c.state.unsub(n),this._isCssVarsBound.set(!1)})}),this.mountFp=f(u.mount),this.unmount=u.unmount,this.bindCssVars=Y(this.bindCssVarsFp),this.mount=Y(this.mountFp)}},Vi=ui({});function Hi(){return new Bi({...M(Q(),_i(`themeParams`)),offChange(e){Pr(`theme_changed`,e)},onChange(e){K(`theme_changed`,e)},initialState:Vi})}var Ui=Hi(),Wi=class{constructor({storage:e,isPageReload:t,version:n,postEvent:r,isTma:a,theme:o,onVisibilityChanged:c,offVisibilityChanged:l}){q(this,`isSupported`),q(this,`isDark`,s(()=>{let e=this.bgColorRgb();return e?zi(e):!1})),q(this,`isActive`),q(this,`state`),q(this,`isCssVarsBound`),q(this,`bindCssVarsFp`),q(this,`bindCssVars`),q(this,`isMounted`),q(this,`mountFp`),q(this,`mount`),q(this,`unmount`),q(this,`bgColor`),q(this,`bgColorRgb`),q(this,`setBgColorFp`),q(this,`setBgColor`),q(this,`headerColor`),q(this,`headerColorRgb`),q(this,`setHeaderColorFp`),q(this,`setHeaderColor`),q(this,`bottomBarColor`),q(this,`bottomBarColorRgb`),q(this,`setBottomBarColorFp`),q(this,`setBottomBarColor`),q(this,`closeFp`),q(this,`close`),q(this,`readyFp`),q(this,`ready`);let u=e=>{p.setState({isActive:e.is_visible})},d=e=>{[[this.headerColor,`web_app_set_header_color`],[this.bgColor,`web_app_set_background_color`],[this.bottomBarColor,`web_app_set_bottom_bar_color`]].forEach(([t,n])=>{let i=t();if(!Hn(i)&&(n!==`web_app_set_header_color`||![`bg_color`,`secondary_bg_color`].includes(i))){let t=e[i];t&&r(n,{color:t})}})},f=new Yr({initialState(){return I({bgColor:`bg_color`,headerColor:`header_bg_color`,bottomBarColor:`bottom_bar_bg_color`,isActive:!0})},isPageReload:t,onMounted:e=>{c(u),o.sub(d),p.setState(e)},onUnmounted(){l(u),o.unsub(d)},restoreState:e.get});this.isMounted=f.isMounted,this.mountFp=oi(()=>{let e=()=>{};return M(f.mount(),z(e,e))},{isTma:a,returns:`plain`}),this.mount=Y(this.mountFp),this.unmount=f.unmount;let p=new Qr({initialState:{bgColor:`bg_color`,bottomBarColor:`bottom_bar_bg_color`,headerColor:`bg_color`,isActive:!1},onChange:e.set});this.state=p.state;let m=e=>Hn(e)?e:J(o)[e],h=e=>s(()=>m(e()));this.isActive=p.getter(`isActive`),this.isSupported=s(()=>[`web_app_set_header_color`,`web_app_set_background_color`,`web_app_set_bottom_bar_color`].some(e=>Kr(e,J(n))));let g=i(!1);this.isCssVarsBound=s(g),this.bindCssVarsFp=oi(e=>{if(g())return F(new ti);let[t,n]=Dn(()=>{g.set(!1)}),r=(e,n)=>{let r=()=>{Ii(e,n()||null)};r(),t(n.sub(r),Li.bind(null,e))};return e||=e=>`--tg-${yn(e)}`,r(e(`bgColor`),this.bgColorRgb),r(e(`bottomBarColor`),this.bottomBarColorRgb),r(e(`headerColor`),this.headerColorRgb),g.set(!0),I(n)},{isTma:a,returns:`either`,isMounted:this.isMounted}),this.bindCssVars=Y(this.bindCssVarsFp);let _=e=>{let t=p.getter(e),i=h(t),o={headerColor:`web_app_set_header_color`,bgColor:`web_app_set_background_color`,bottomBarColor:`web_app_set_bottom_bar_color`}[e],s=oi(n=>{if(n===t())return I(void 0);if(o===`web_app_set_header_color`&&(n===`bg_color`||n===`secondary_bg_color`))return M(r(`web_app_set_header_color`,{color_key:n}),L(()=>{p.setState({[e]:n})}));let i=m(n);return M(i?r(o,{color:i}):F(new ai(n)),L(()=>{p.setState({[e]:n})}))},{isTma:a,version:n,requires:o,isMounted:this.isMounted,returns:`either`,supports:e===`headerColor`?{rgb:{method:`web_app_set_header_color`,param:`color`,shouldCheck:Hn}}:void 0});return[t,i,Y(s),s]};[this.bgColor,this.bgColorRgb,this.setBgColor,this.setBgColorFp]=_(`bgColor`),[this.headerColor,this.headerColorRgb,this.setHeaderColor,this.setHeaderColorFp]=_(`headerColor`),[this.bottomBarColor,this.bottomBarColorRgb,this.setBottomBarColor,this.setBottomBarColorFp]=_(`bottomBarColor`);let v=Z({isTma:a,returns:`either`});this.closeFp=v(e=>r(`web_app_close`,{return_back:e})),this.close=Y(this.closeFp),this.readyFp=v(()=>r(`web_app_ready`)),this.ready=Y(this.readyFp)}};function Gi(){return new Wi({...M(Q(),$,yi,_i(`miniApp`)),offVisibilityChanged(e){Pr(`visibility_changed`,e)},onVisibilityChanged(e){K(`visibility_changed`,e)},theme:Ui.state})}var Ki=Gi();function qi(e){let t=e.message.trim(),n=(e.title||``).trim(),r=e.buttons||[];if(n.length>64)return F(new X(`Invalid title: ${n}`));if(!t||t.length>256)return F(new X(`Invalid message: ${t}`));if(r.length>3)return F(new X(`Invalid buttons count: ${r.length}`));let i=[];if(!r.length)i.push({type:`close`,id:``});else for(let e=0;e<r.length;e++){let t=r[e],n=t.id||``;if(n.length>64)return F(new X(`Button with index ${e} has invalid id: ${n}`));if(!t.type||t.type===`default`||t.type===`destructive`){let r=t.text.trim();if(!r||r.length>64)return F(new X(`Button with index ${e} has invalid text: ${r}`));i.push({type:t.type,text:r,id:n})}else i.push({type:t.type,id:n})}return I({title:n,message:t,buttons:i})}var Ji=class{constructor({version:e,isTma:t,request:n}){q(this,`isOpened`),q(this,`isSupported`),q(this,`showFp`),q(this,`show`);let r=i(!1),a=()=>{r.set(!1)},o=Z({version:e,isTma:t,requires:`web_app_open_popup`,returns:`task`});this.isSupported=$r(`web_app_open_popup`,e),this.isOpened=s(r),this.showFp=o(e=>M(this.isOpened()?Jt(new ri(`A popup is already opened`)):V(void 0),vn(()=>Qt(qi(e))),_n(t=>(r.set(!0),n(`web_app_open_popup`,`popup_closed`,{...e,params:t}))),on(e=>(a(),e),e=>(a(),e.button_id)))),this.show=Y(this.showFp)}};function Yi(){return new Ji(M(Q(),Ci,yi))}var Xi=Yi(),Zi=ui(!1),Qi=class{constructor({storage:e,isPageReload:t,onContentSafeAreaInsetsChanged:n,onSafeAreaInsetsChanged:r,onViewportChanged:a,onFullscreenChanged:o,offContentSafeAreaInsetsChanged:c,offFullscreenChanged:l,offSafeAreaInsetsChanged:u,offViewportChanged:d,request:f,isViewportStable:p,isFullscreen:m,isTma:h,version:g,postEvent:_}){q(this,`state`),q(this,`height`),q(this,`stableHeight`),q(this,`width`),q(this,`isExpanded`),q(this,`isStable`,s(()=>this.height()===this.stableHeight())),q(this,`contentSafeAreaInsets`),q(this,`contentSafeAreaInsetTop`),q(this,`contentSafeAreaInsetLeft`),q(this,`contentSafeAreaInsetRight`),q(this,`contentSafeAreaInsetBottom`),q(this,`safeAreaInsets`),q(this,`safeAreaInsetTop`),q(this,`safeAreaInsetLeft`),q(this,`safeAreaInsetRight`),q(this,`safeAreaInsetBottom`),q(this,`isFullscreen`),q(this,`requestFullscreenFp`),q(this,`requestFullscreen`),q(this,`exitFullscreenFp`),q(this,`exitFullscreen`),q(this,`isCssVarsBound`),q(this,`bindCssVarsFp`),q(this,`bindCssVars`),q(this,`isMounted`),q(this,`mountFp`),q(this,`mount`),q(this,`expandFp`),q(this,`expand`);let v={top:0,right:0,left:0,bottom:0},y=new Qr({initialState:{contentSafeAreaInsets:v,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:v,stableHeight:0,width:0},onChange:e.set}),ee=e=>{y.setState({isExpanded:e.is_expanded,height:e.height,width:e.width,stableHeight:e.is_state_stable?e.height:void 0})},te=e=>{y.setState({isFullscreen:e.is_fullscreen})},b=e=>{y.setState({safeAreaInsets:e})},ne=e=>{y.setState({contentSafeAreaInsets:e})},x=new Si({initialState(e){let t=t=>()=>{let[n,r]=t===`safe-area`?[`web_app_request_safe_area`,`safe_area_changed`]:[`web_app_request_content_safe_area`,`content_safe_area_changed`];return Kr(n,J(g))?f(n,r,e):V({top:0,left:0,right:0,bottom:0})},n=e=>()=>typeof e==`boolean`?V(e):Qt(e());return M(hn,gn(`safeAreaInsets`,t(`safe-area`)),gn(`contentSafeAreaInsets`,t(`content-safe-area`)),gn(`isFullscreen`,n(m)),gn(`isViewportStable`,n(p)),vn(({isViewportStable:t,...n})=>t?V({...n,height:window.innerHeight,isExpanded:!0,stableHeight:window.innerHeight,width:window.innerWidth}):M(f(`web_app_request_viewport`,`viewport_changed`,e),an(e=>({...n,height:e.height,isExpanded:e.is_expanded,stableHeight:e.is_state_stable?e.height:0,width:e.width})))))},isPageReload:t,onMounted(e){a(ee),o(te),r(b),n(ne),y.setState(e)},onUnmounted(){d(ee),l(te),u(b),c(ne)},restoreState:e.get}),re=e=>s(()=>this.safeAreaInsets()[e]),S=e=>s(()=>this.contentSafeAreaInsets()[e]);this.state=y.state,this.height=y.getter(`height`),this.stableHeight=y.getter(`stableHeight`),this.width=y.getter(`width`),this.isExpanded=y.getter(`isExpanded`),this.safeAreaInsets=y.getter(`safeAreaInsets`),this.safeAreaInsetTop=re(`top`),this.safeAreaInsetBottom=re(`bottom`),this.safeAreaInsetLeft=re(`left`),this.safeAreaInsetRight=re(`right`),this.contentSafeAreaInsets=y.getter(`contentSafeAreaInsets`),this.contentSafeAreaInsetTop=S(`top`),this.contentSafeAreaInsetBottom=S(`bottom`),this.contentSafeAreaInsetLeft=S(`left`),this.contentSafeAreaInsetRight=S(`right`);let ie=Z({isTma:h,returns:`task`}),C=Z({isTma:h,returns:`either`}),ae=Z({isTma:h,requires:`web_app_request_fullscreen`,version:g,returns:`task`}),oe=e=>ae(t=>M(f(e?`web_app_request_fullscreen`:`web_app_exit_fullscreen`,[`fullscreen_changed`,`fullscreen_failed`],t),_n(e=>e.event===`fullscreen_failed`&&e.payload.error!==`ALREADY_FULLSCREEN`?Jt(new ii(e.payload.error)):(y.setState({isFullscreen:`is_fullscreen`in e.payload?e.payload.is_fullscreen:!0}),V(void 0)))));this.isMounted=x.isMounted,this.mountFp=ie(x.mount),this.mount=Y(this.mountFp),this.isFullscreen=y.getter(`isFullscreen`),this.requestFullscreenFp=oe(!0),this.requestFullscreen=Y(this.requestFullscreenFp),this.exitFullscreenFp=oe(!1),this.exitFullscreen=Y(this.exitFullscreenFp);let w=i(!1);this.isCssVarsBound=s(w),this.bindCssVarsFp=C(e=>{if(w())return F(new ti);e||=e=>`--tg-viewport-${yn(e)}`;let t=[[`height`,this.height],[`stableHeight`,this.stableHeight],[`width`,this.width],[`safeAreaInsetTop`,this.safeAreaInsetTop],[`safeAreaInsetBottom`,this.safeAreaInsetBottom],[`safeAreaInsetLeft`,this.safeAreaInsetLeft],[`safeAreaInsetRight`,this.safeAreaInsetRight],[`contentSafeAreaInsetTop`,this.contentSafeAreaInsetTop],[`contentSafeAreaInsetBottom`,this.contentSafeAreaInsetBottom],[`contentSafeAreaInsetLeft`,this.contentSafeAreaInsetLeft],[`contentSafeAreaInsetRight`,this.contentSafeAreaInsetRight]].reduce((t,[n,r])=>{let i=e(n);if(i){let e=()=>{Ii(i,`${r()}px`)};t.push({update:e,removeListener:r.sub(e),cssVar:i})}return t},[]);return t.forEach(e=>{e.update()}),w.set(!0),I(()=>{t.forEach(e=>{e.removeListener(),Li(e.cssVar)}),w.set(!1)})}),this.bindCssVars=Y(this.bindCssVarsFp),this.expandFp=C(()=>_(`web_app_expand`)),this.expand=Y(this.expandFp)}};function $i(){let e=e=>({on:t=>{K(e,t)},off:t=>{Pr(e,t)}}),t=e(`viewport_changed`),n=e(`fullscreen_changed`),r=e(`safe_area_changed`),i=e(`content_safe_area_changed`);return new Qi({...M(Q(),_i(`viewport`),yi,$,Ci),isFullscreen(){return M(mr(),L(e=>!!e.tgWebAppFullscreen))},isViewportStable(){return M(mr(),L(e=>[`macos`,`tdesktop`,`unigram`,`webk`,`weba`,`web`].includes(e.tgWebAppPlatform)))},offContentSafeAreaInsetsChanged:i.off,offFullscreenChanged:n.off,offSafeAreaInsetsChanged:r.off,offViewportChanged:t.off,onContentSafeAreaInsetsChanged:i.on,onFullscreenChanged:n.on,onSafeAreaInsetsChanged:r.on,onViewportChanged:t.on})}var ea=$i();function ta(e={}){let{version:t,isInlineMode:n,themeParams:r}=e;if(t&&typeof n==`boolean`&&r)vi.set(t),Zi.set(n),Vi.set(r);else{let e=M(mr(),mt(e=>e,e=>{vi.set(t||e.tgWebAppVersion),Zi.set(typeof n==`boolean`?n:!!e.tgWebAppBotInline),Vi.set(r||e.tgWebAppThemeParams)}));if(e)return F(e)}e.postEvent&&di.set(e.postEvent);let[i,a]=Dn(K(`reload_iframe`,()=>{G().log(`Received a request to reload the page`),pi(`iframe_will_reload`),window.location.reload()})),{acceptCustomStyles:o=!0}=e;if(o){let e=document.createElement(`style`);e.id=`telegram-custom-styles`,document.head.appendChild(e),i(K(`set_custom_style`,t=>{e.innerHTML=t}),()=>{document.head.removeChild(e)})}return M(fi(`iframe_ready`,{reload_supported:!0}),L(()=>(G().log(`The package was initialized`),a)))}var na=H(ta),ra=e();function ia(e){return(0,ra.useMemo)(()=>{let t=hr();return e?Sn(t):t},[e])}export{Mi as a,Ei as c,Ki as d,Vr as f,hr as g,_r as h,xi as i,Xi as l,br as m,ea as n,ki as o,Tr as p,Fi as r,na as s,ia as t,Ui as u};